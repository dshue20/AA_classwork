{"ast":null,"code":"var _jsxFileName = \"/Users/derekshue/Desktop/AA-classwork/Week_15/derek_shue_online-store/client/src/components/Nav.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Query, ApolloConsumer } from \"react-apollo\";\nimport { IS_LOGGED_IN } from \"../graphql/queries\";\n\nconst Nav = props => {\n  console.log(props);\n  return React.createElement(ApolloConsumer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }, client => React.createElement(Query, {\n    query: IS_LOGGED_IN,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }, ({\n    data\n  }) => {\n    if (data.isLoggedIn) {\n      return React.createElement(\"button\", {\n        onClick: e => {\n          e.preventDefault();\n          localStorage.removeItem(\"auth-token\");\n          client.writeData({\n            data: {\n              isLoggedIn: false\n            }\n          });\n          props.history.push(\"/\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 15\n        },\n        __self: this\n      }, \"Logout\");\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, \"Login\"));\n    }\n  }));\n};\n\nexport default Nav;","map":{"version":3,"sources":["/Users/derekshue/Desktop/AA-classwork/Week_15/derek_shue_online-store/client/src/components/Nav.js"],"names":["React","Component","Link","Query","ApolloConsumer","IS_LOGGED_IN","Nav","props","console","log","client","data","isLoggedIn","e","preventDefault","localStorage","removeItem","writeData","history","push"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,KAAT,EAAgBC,cAAhB,QAAsC,cAAtC;AACA,SAASC,YAAT,QAA6B,oBAA7B;;AAEA,MAAMC,GAAG,GAAGC,KAAK,IAAI;AACjBC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,SACE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGG,MAAM,IACL,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAEL,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAAC;AAAEM,IAAAA;AAAF,GAAD,KAAc;AACb,QAAIA,IAAI,CAACC,UAAT,EAAqB;AACnB,aACE;AACE,QAAA,OAAO,EAAEC,CAAC,IAAI;AACZA,UAAAA,CAAC,CAACC,cAAF;AACAC,UAAAA,YAAY,CAACC,UAAb,CAAwB,YAAxB;AACAN,UAAAA,MAAM,CAACO,SAAP,CAAiB;AAAEN,YAAAA,IAAI,EAAE;AAAEC,cAAAA,UAAU,EAAE;AAAd;AAAR,WAAjB;AACAL,UAAAA,KAAK,CAACW,OAAN,CAAcC,IAAd,CAAmB,GAAnB;AACD,SANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF;AAYD,KAbD,MAaO;AACL,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAC,QAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,CADF;AAKD;AACF,GAtBH,CAFJ,CADF;AA8BH,CAhCD;;AAkCA,eAAeb,GAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Query, ApolloConsumer } from \"react-apollo\";\r\nimport { IS_LOGGED_IN } from \"../graphql/queries\";\r\n\r\nconst Nav = props => {\r\n    console.log(props);\r\n    return (\r\n      <ApolloConsumer>\r\n        {client => (\r\n          <Query query={IS_LOGGED_IN}>\r\n            {({ data }) => {\r\n              if (data.isLoggedIn) {\r\n                return (\r\n                  <button\r\n                    onClick={e => {\r\n                      e.preventDefault();\r\n                      localStorage.removeItem(\"auth-token\");\r\n                      client.writeData({ data: { isLoggedIn: false } });\r\n                      props.history.push(\"/\");\r\n                    }}\r\n                  >\r\n                    Logout\r\n                  </button>\r\n                );\r\n              } else {\r\n                return (\r\n                  <div>\r\n                    <Link to=\"/login\">Login</Link>\r\n                  </div>\r\n                );\r\n              }\r\n            }}\r\n          </Query>\r\n        )}\r\n      </ApolloConsumer>\r\n    );\r\n};\r\n\r\nexport default Nav;"]},"metadata":{},"sourceType":"module"}